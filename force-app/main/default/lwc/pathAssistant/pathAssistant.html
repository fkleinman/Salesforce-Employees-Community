<template>
    <div class="slds-size_4-of-4 main">
    <!-- error alert  -->
        <div if:true={errorMsg}
        class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error main"
        role="alert">
        <span class="slds-assistive-text">error</span>
        <span class="slds-icon_container slds-icon-utility-error slds-m-right_x-small"
            title="Description of icon when needed">
            <lightning-icon icon-name="utility:error" size="small"></lightning-icon>
        </span>
        <h2>
            {genericErrorMessage}
        </h2>
        <p>
            {errorMsg}
        </p>
        </div> 
    <!--Error alert fin -->
    <!-- Path -->
        <div if:false={errorMsg}>
            <div class="test">
                <lightning-spinner variant="brand" size="small" if:true={hasToShowSpinner}></lightning-spinner>
                <ul if:true={isLoaded} class={careerPathStyle} role="listbox" aria-orientation="horizontal" key={organizedPath.lstWrpRoles}>
                    <template for:each={organizedPath} for:item="column">
                        <div class="slds-col" key={organizedPath.lstWrpRoles} style="padding-right: 22px;">
                            <template for:each={column.lstWrpRoles} for:item="step">      
                                <template if:true={step.blnCurrentRole}>
                                    <li key={step.strRole} class='slds-path__item slds-is-current slds-is-active' role="presentation" data-item={step.strRole} onclick={handleRolClicked}>
                                        <a aria-selected="false"
                                            class="slds-path__link"
                                            href="javascript:void(0);"
                                            role="option"
                                            tabindex="-1"
                                            data-value={step.strRole}
                                            onclick={handleStepSelected}
                                            onnotification={handleNotification}>
                                            <span  class="slds-path__stage" >
                                                <lightning-icon  icon-name="utility:check" size="xx-small" variant="inverse"></lightning-icon>
                                            </span>
                                            <span class="slds-path__title">{step.strRole}</span>
                                        </a>
                                    </li>
                                </template>

                                <template if:false={step.blnCurrentRole}>
                                    <template if:true={step.blnIsPreRole}>
                                        <div class="button-box-text-section" if:true={careertab} key={step.strRole}>
                                            <li  class='slds-path__item slds-is-incomplete' role="presentation" data-item={step.strRole} onclick={handleRolClicked}>
                                                <a aria-selected="false" 
                                                class="slds-path__link" 
                                                href="javascript:void(0);" 
                                                role="option"
                                                tabindex="-1" 
                                                data-value={step.strRole} 
                                                onclick={handleStepSelected}>
                                                <span class="slds-path__stage">
                                                    <lightning-icon icon-name="utility:check" size="xx-small" variant="inverse"></lightning-icon>
                                                </span>
                                                <span class="slds-path__title">{step.strRole}</span>
                                                </a>
                                            </li>
                                            <span class="button-box-text-help-section">Click on any of the roles to see its description and required certifications below</span>
                                        </div>
                                        <div if:false={careertab} key={step.strRole}>
                                            <li  class='slds-path__item slds-is-won' role="presentation" data-item={step.strRole} onclick={handleRolClicked}>
                                                <a aria-selected="false" 
                                                class="slds-path__link" 
                                                href="javascript:void(0);" 
                                                role="option"
                                                tabindex="-1" 
                                                data-value={step.strRole} 
                                                onclick={handleStepSelected}>
                                                <span class="slds-path__stage">
                                                    <lightning-icon icon-name="utility:check" size="xx-small" variant="inverse"></lightning-icon>
                                                    <span class="slds-assistive-text">Current Stage:</span>
                                                </span>
                                                <span class="slds-path__title is-pre-role-text">{step.strRole}</span>
                                                </a>
                                            </li>
                                        </div>
                                    </template>
                                    <template if:false={step.blnIsPreRole}>
                                        <div class="button-box-text-section" if:true={careertab} key={step.strRole}>
                                            <li  class='slds-path__item slds-is-incomplete' role="presentation" data-item={step.strRole} onclick={handleRolClicked}>
                                                <a aria-selected="false" 
                                                class="slds-path__link" 
                                                href="javascript:void(0);" 
                                                role="option"
                                                tabindex="-1" 
                                                data-value={step.strRole} 
                                                onclick={handleStepSelected}>
                                                <span class="slds-path__stage">
                                                    <lightning-icon icon-name="utility:check" size="xx-small" variant="inverse"></lightning-icon>
                                                </span>
                                                <span class="slds-path__title">{step.strRole}</span>
                                                </a>
                                            </li>
                                            <span class="button-box-text-help-section">Click on any of the roles to see its description and required certifications below</span>
                                        </div>
                                        <div if:false={careertab} key={step.strRole}>
                                            <li  class='slds-path__item slds-is-incomplete' role="presentation" data-item={step.strRole} onclick={handleRolClicked}>
                                                <a aria-selected="false" 
                                                class="slds-path__link" 
                                                href="javascript:void(0);" 
                                                role="option"
                                                tabindex="-1" 
                                                data-value={step.strRole} 
                                                onclick={handleStepSelected}>
                                                <span class="slds-path__stage">
                                                    <lightning-icon icon-name="utility:check" size="xx-small" variant="inverse"></lightning-icon>
                                                </span>
                                                <span class="slds-path__title">{step.strRole}</span>
                                                </a>
                                            </li>
                                        </div>
                                    </template> 
                                </template>
                            </template>
                        </div>
                    </template>
                </ul>
            </div>
        </div>
    </div>
 <!-- Path -->
</template>